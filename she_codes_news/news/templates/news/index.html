{% extends 'base.html' %} 
{% load static %}

{% block stylesheets %}
<linkrel="stylesheet" type="text/css" href="{% static 'news/styles.css' %}">
{%endblock %}

{% block content %}
<main class="constrained-container"> 
  <br>
  <h2>Latest News</h2>
  {% if request.user.is_authenticated %}
    <a class="button" href="{% url 'news:newStory' %}"> Write New Story</a>
  {% endif %}
  <section class="latest-stories">
    {% if latest_stories %}
      {% for story in latest_stories %}
        {% include "./storyCard.html" with story=story position=forloop.counter%}
      {% endfor %}
    {% else %}
      <p>No stories are available.</p>
    {% endif %}
  </section>

  <section class="all-stories">
    {% if latest_stories %} 
      {% for story in all_stories %}
        {% include "./storyCard.html" with story=story%}
      {% endfor %}
    {% else %}
      <p>No stories are available.</p>
    {% endif %}
  </section>
</main>

{% endblock %}
